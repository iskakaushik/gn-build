source_set("base") {
  sources = [
    "clickhouse/base/buffer.h",
    "clickhouse/base/coded.cpp",
    "clickhouse/base/coded.h",
    "clickhouse/base/compressed.cpp",
    "clickhouse/base/compressed.h",
    "clickhouse/base/input.cpp",
    "clickhouse/base/input.h",
    "clickhouse/base/output.cpp",
    "clickhouse/base/output.h",
    "clickhouse/base/platform.cpp",
    "clickhouse/base/platform.h",
    "clickhouse/base/singleton.h",
    "clickhouse/base/socket.cpp",
    "clickhouse/base/socket.h",
    "clickhouse/base/string_utils.h",
    "clickhouse/base/wire_format.h",
  ]

  configs += [ "contrib:includes" ]
}

source_set("columns") {
  sources = [
    "clickhouse/columns/array.cpp",
    "clickhouse/columns/array.h",
    "clickhouse/columns/column.h",
    "clickhouse/columns/date.cpp",
    "clickhouse/columns/date.h",
    "clickhouse/columns/decimal.cpp",
    "clickhouse/columns/decimal.h",
    "clickhouse/columns/enum.cpp",
    "clickhouse/columns/enum.h",
    "clickhouse/columns/factory.cpp",
    "clickhouse/columns/factory.h",
    "clickhouse/columns/ip4.cpp",
    "clickhouse/columns/ip4.h",
    "clickhouse/columns/ip6.cpp",
    "clickhouse/columns/ip6.h",
    "clickhouse/columns/nothing.h",
    "clickhouse/columns/nullable.cpp",
    "clickhouse/columns/nullable.h",
    "clickhouse/columns/numeric.cpp",
    "clickhouse/columns/numeric.h",
    "clickhouse/columns/string.cpp",
    "clickhouse/columns/string.h",
    "clickhouse/columns/tuple.cpp",
    "clickhouse/columns/tuple.h",
    "clickhouse/columns/utils.h",
    "clickhouse/columns/uuid.cpp",
    "clickhouse/columns/uuid.h",
  ]
  configs += [ "contrib:includes" ]
}

source_set("types") {
  sources = [
    "clickhouse/types/type_parser.cpp",
    "clickhouse/types/type_parser.h",
    "clickhouse/types/types.cpp",
    "clickhouse/types/types.h",
  ]

  deps = [ "contrib" ]

  configs += [ "contrib:includes" ]
}

source_set("clickhouse-cpp") {
  sources = [
    "clickhouse/block.cpp",
    "clickhouse/block.h",
    "clickhouse/client.cpp",
    "clickhouse/client.h",
    "clickhouse/error_codes.h",
    "clickhouse/exceptions.h",
    "clickhouse/protocol.h",
    "clickhouse/query.cpp",
    "clickhouse/query.h",
  ]

  deps = [
    ":base",
    ":columns",
    ":types",
  ]

  public_configs = [ "contrib:includes" ]
}
